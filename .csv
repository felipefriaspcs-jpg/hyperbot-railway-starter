import pandas as pd
import os

def log_trade(symbol, side, amount, price):
    now = pd.Timestamp.now().strftime("%Y-%m-%d %H:%M:%S")
    entry = pd.DataFrame([{
        'timestamp': now,
        'symbol': symbol,
        'side': side.upper(),
        'amount': amount,
        'price': price
    }])
    
    file_name = "trades_log.csv"
    entry.to_csv(file_name, mode='a', index=False, header=not os.path.exists(file_name))
